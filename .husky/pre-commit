#!/usr/bin/env bash

# Secret scan gate (requires gitleaks if installed)
if command -v gitleaks >/dev/null 2>&1; then
  echo "[pre-commit] Running gitleaks..."
  gitleaks protect --staged --redact || {
    echo "[pre-commit] Secrets detected. Commit aborted.";
    exit 1;
  }
fi

exit 0

